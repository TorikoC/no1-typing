(function(t){function e(e){for(var n,i,o=e[0],c=e[1],l=e[2],d=0,p=[];d<o.length;d++)i=o[d],a[i]&&p.push(a[i][0]),a[i]=0;for(n in c)Object.prototype.hasOwnProperty.call(c,n)&&(t[n]=c[n]);u&&u(e);while(p.length)p.shift()();return r.push.apply(r,l||[]),s()}function s(){for(var t,e=0;e<r.length;e++){for(var s=r[e],n=!0,o=1;o<s.length;o++){var c=s[o];0!==a[c]&&(n=!1)}n&&(r.splice(e--,1),t=i(i.s=s[0]))}return t}var n={},a={app:0},r=[];function i(e){if(n[e])return n[e].exports;var s=n[e]={i:e,l:!1,exports:{}};return t[e].call(s.exports,s,s.exports,i),s.l=!0,s.exports}i.m=t,i.c=n,i.d=function(t,e,s){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:s})},i.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var s=Object.create(null);if(i.r(s),Object.defineProperty(s,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)i.d(s,n,function(e){return t[e]}.bind(null,n));return s},i.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="/";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],c=o.push.bind(o);o.push=e,o=o.slice();for(var l=0;l<o.length;l++)e(o[l]);var u=c;r.push([0,"chunk-vendors"]),s()})({0:function(t,e,s){t.exports=s("56d7")},"009c":function(t,e,s){},"034f":function(t,e,s){"use strict";var n=s("64a9"),a=s.n(n);a.a},1:function(t,e){},"10a7":function(t,e,s){},3373:function(t,e,s){"use strict";var n=s("75c9"),a=s.n(n);a.a},"364c":function(t,e,s){},"37bc":function(t,e,s){"use strict";var n=s("364c"),a=s.n(n);a.a},"4a35":function(t,e,s){},"4b44":function(t,e,s){},"4e0d":function(t,e,s){},"508d":function(t,e,s){"use strict";var n=s("10a7"),a=s.n(n);a.a},"56d7":function(t,e,s){"use strict";s.r(e);s("ac6a"),s("456d"),s("cadf"),s("551c"),s("097d");var n=s("2b0e"),a=s("8c4f"),r=s("bc3a"),i=s.n(r),o=s("8055"),c=s.n(o),l=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{attrs:{id:"app"}},[s("router-view")],1)},u=[],d={name:"app",components:{}},p=d,_=(s("034f"),s("2877")),h=Object(_["a"])(p,l,u,!1,null,null,null);h.options.__file="App.vue";var v=h.exports,f=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("nav",{staticClass:"nav"},[s("ul",[s("li",[s("router-link",{attrs:{to:"/"}},[t._v("练习")])],1),s("li",[s("router-link",{attrs:{to:"/rank"}},[t._v("榜单")])],1),s("li",[s("router-link",{attrs:{to:"/about"}},[t._v("关于")])],1),s("li",[s("router-link",{attrs:{to:"/feedback"}},[t._v("反馈")])],1)])]),s("router-view"),"/"===t.$route.fullPath?s("div",{staticClass:"entry"},[s("div",{staticClass:"entry__mode"},[s("fieldset",[s("legend",[t._v("语言")]),s("label",{attrs:{for:"index-radio-cn"}},[t._v("中文")]),s("input",{directives:[{name:"model",rawName:"v-model",value:t.lang,expression:"lang"}],attrs:{type:"radio",id:"index-radio-cn",name:"lang",value:"cn"},domProps:{checked:t._q(t.lang,"cn")},on:{change:function(e){t.lang="cn"}}}),s("label",{attrs:{for:"index-radio-en",title:"开发中"}},[t._v("英文")]),s("input",{directives:[{name:"model",rawName:"v-model",value:t.lang,expression:"lang"}],attrs:{type:"radio",id:"index-radio-en",name:"lang",value:"en",disabled:""},domProps:{checked:t._q(t.lang,"en")},on:{change:function(e){t.lang="en"}}})])]),s("router-link",{attrs:{to:"/pratice/"+t.lang}},[t._v("练习")]),s("router-link",{attrs:{to:"/match/"+t.lang}},[t._v("匹配")])],1):t._e()],1)},m=[],g={data:function(){return{lang:"cn"}}},b=g,k=(s("b923"),Object(_["a"])(b,f,m,!1,null,"e7a6cf3c",null));k.options.__file="index.vue";var y=k.exports,x=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"pratice"},[s("cs-back"),s("cs-progress",{staticClass:"pratice__progress",attrs:{name:"游客",progress:t.progress,speed:t.speed}}),s("div",{staticClass:"pratice__meta"},[t.state===t.COUNTING?s("span",{staticClass:"pratice__clock"},[t._v("倒计时: "+t._s(t.clock)+" 秒")]):t.state===t.DONE?s("button",{on:{click:t.restart}},[t._v("再来一次")]):t.state===t.WRITING?s("span",[t._v("已经开始了")]):t._e()]),s("div",{staticClass:"pratice__snippet"}),s("div",{staticClass:"pratice__input",attrs:{contenteditable:"false",spellcheck:"false"}}),t.state===t.DONE?s("dl",[s("dt",[t._v("用时")]),s("dd",[t._v(t._s(t._f("formatTime")(t.time)))]),s("dt",[t._v("速度")]),s("dd",[t._v("约 "+t._s(t.speed)+" 字/分钟")]),s("dt",[t._v("段落来自")]),s("dd",[s("div",{staticClass:"source"},[s("div",{staticClass:"source__cover"},[s("img",{attrs:{src:t.snippet.cover,alt:"source cover"}})]),s("div",{staticClass:"source__name"},[t._v("\n          "+t._s(t.snippet.name)+"\n          "),s("br"),s("small",[t._v("by "+t._s(t.snippet.author))])])])])]):t._e()],1)},C=[];s("a481"),s("28a5");function w(t,e){var s=t.split("").map(function(t){return"<span class='".concat(e,"'>").concat(t,"</span>")});return s.join("")}var L=w;function I(t){t.addEventListener("paste",function(t){return t.preventDefault()},!1)}var N=I;function O(t){var e=window.getSelection(),s=document.createRange();t.innerHTML=" ",s.selectNodeContents(t),e.removeAllRanges(),e.addRange(s),document.execCommand("delete",!1,null)}var $=O;function E(t,e){for(var s=0,n=!1,a=0;a<t.length&&a<e.length;a+=1){if(t[a]!==e[a]&&(32!==t.charCodeAt(a)||160!==e.charCodeAt(a))){s=a;break}n=!0}return n&&0===s&&(s=e.length),s}var D=E,A={data:function(){return{LOADING:0,COUNTING:1,WRITING:2,DONE:3,state:this.LOADING,clock:4,snippetHTML:"",snippet:{},time:0,speed:0,progress:0,startedAt:0,input:null}},mounted:function(){this.input=document.getElementsByClassName("pratice__input")[0],N(this.input),this.prevenInput(this.input),this.getSnippet()},methods:{getSnippet:function(){var t=this;this.$axios.get("/random-snippet").then(function(e){t.snippet=e.data,t.state=t.COUNTING,document.getElementsByClassName("pratice__snippet")[0].innerHTML=L(e.data.content,"pratice__word"),t.countdown()})},countdown:function(){this.clock-=1,0===this.clock?(this.state=this.WRITING,this.startedAt=Date.now(),this.enableInput(this.input),this.watch(this.input)):setTimeout(this.countdown,1e3)},restart:function(t){this.reset(),this.getSnippet()},reset:function(){this.clock=4,this.input.innerHTML="",this.input.setAttribute("data-highlight",""),this.startedAt=0,this.speed=0,this.progress=0,this.state=this.LOADING},prevenInput:function(t){t.setAttribute("contenteditable",!1)},enableInput:function(t){t.setAttribute("contenteditable",!0)},watch:function(t){var e=this,s={attributes:!1,childList:!1,subtree:!0,characterData:!0},n=function(s,n){var a=D(e.snippet.content,t.textContent);e.colorfy(document.getElementsByClassName("pratice__word"),a,t.textContent.length,a+1);var r=t.textContent.split("").slice(0,a).join("");r=r.replace(String.fromCharCode(32),"&nbsp;"),t.setAttribute("data-highlight",r),e.progress=Math.floor(r.length/e.snippet.length*100),e.speed=(r.length/((Date.now()-e.startedAt)/1e3)*60).toFixed(1),r===e.snippet.content&&(n.disconnect(),e.state=e.DONE,e.prevenInput(e.input),e.time=Date.now()-e.startedAt,e.speed=(e.snippet.length/(e.time/1e3)*60).toFixed(1),e.post())},a=new MutationObserver(n);a.observe(t,s),$(t)},post:function(){var t=new FormData;t.append("time",this.time),t.append("speed",this.speed),t.append("snippetId",this.snippet._id),this.$axios.post("records",t).then(function(t){})},colorfy:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:-1,s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:-1,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:-1;if(t){if(~e){for(var a=0;a<e&&a<t.length;a+=1)t[a].classList.remove("pratice__next-word"),t[a].classList.remove("pratice__word--not-match"),t[a].classList.add("pratice__word--match");for(var r=e;r<t.length;r+=1)t[r].classList.remove("pratice__word--match")}if(~s){for(var i=e;i<s&&i<t.length;i+=1)t[i].classList.remove("pratice__next-word"),t[i].classList.remove("pratice__word--match"),t[i].classList.add("pratice__word--not-match");for(var o=s;o<t.length;o+=1)t[o].classList.remove("pratice__word--not-match")}if(~n){for(var c=e;c<n&&c<t.length;c+=1)t[c].classList.add("pratice__next-word");for(var l=n;l<t.length;l+=1)t[l].classList.remove("pratice__next-word")}}}}},T=A,j=(s("3373"),s("508d"),Object(_["a"])(T,x,C,!1,null,"0a783463",null));j.options.__file="chinese.vue";var G=j.exports,M=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[t._v("partice, en")])},S=[],R={},B=R,P=(s("ad58"),Object(_["a"])(B,M,S,!1,null,null,null));P.options.__file="english.vue";var F=P.exports,U=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"match"},[s("cs-back"),s("ul",{staticClass:"match__users"},t._l(t.users,function(t){return s("li",{key:t.id},[s("cs-progress",{attrs:{name:t.ip,progress:t.progress,speed:t.speed}})],1)})),s("div",{staticClass:"match__meta"},[t.state===t.COUNTING?s("span",[t._v("倒计时: "+t._s(t.clock)+" 秒")]):t.state===t.DONE?s("button",{on:{click:t.restart}},[t._v("再来一次")]):t.state===t.WRITING?s("span",[t._v("已经开始了")]):t._e()]),s("div",{staticClass:"match__snippet"}),s("div",{staticClass:"match__input",attrs:{contenteditable:"false","data-highlight":"",spellcheck:"false"}}),t.state===t.DONE?s("dl",[s("dt",[t._v("用时")]),s("dd",[t._v(t._s(t._f("formatTime")(t.time)))]),s("dt",[t._v("速度")]),s("dd",[t._v(t._s(t.speed)+" 字/分钟")]),s("dt",[t._v("段落来自")]),s("dd",[s("div",{staticClass:"source"},[s("div",{staticClass:"source__cover"},[s("img",{attrs:{src:t.snippet.cover,alt:"source cover"}})]),s("div",{staticClass:"source__name"},[t._v("\n          "+t._s(t.snippet.name)+"\n          "),s("br"),s("small",[t._v("by "+t._s(t.snippet.author))])])])]),s("dt",[t._v("段落排行")]),s("dd",[s("ul",{staticClass:"records"},t._l(t.records,function(e){return s("li",{key:e.createdAt},[t._v(t._s(e.user)+", "+t._s(e.speed)+" 字/分钟, "+t._s(t._f("formatDate")(e.createdAt)))])}))])]):t._e()],1)},W=[],q=(s("20d6"),{data:function(){return{LOADING:0,COUNTING:1,WRITING:2,DONE:3,state:this.LOADING,users:[],snippet:{},records:[],clock:1e4,time:0,speed:0,progress:0,startedAt:0,socket:null,input:null}},mounted:function(){this.input=document.getElementsByClassName("match__input")[0],N(this.input),this.socket=this.$io.connect(this.$config.server),this.listen(this.socket)},methods:{listen:function(t){var e=this;t.on("users",function(t){e.users=t.map(function(t){return{id:t.id,ip:t.ip,progress:0,speed:0}})}),t.on("snippet",function(t){e.state=e.COUNTING,e.snippet=t,document.getElementsByClassName("match__snippet")[0].innerHTML=L(t.content,"match__word")}),t.on("user-leave",function(t){if(e.state===e.COUNTING){var s=e.users.findIndex(function(e){return e.id===t});-1!==s&&e.users.splice(s,1)}}),t.on("user-enter",function(t){e.users.push({id:t.id,ip:t.ip,progress:0,speed:0})}),t.on("clock",function(t){e.clock=t,0===e.clock&&e.start()})},start:function(){this.state=this.WRITING,this.enableInput(this.input),this.watch(this.input),this.startedAt=Date.now()},restart:function(){this.reset(),this.socket.emit("re-start")},reset:function(){this.state=this.LOADING,this.clock=1e4,this.speed=0,this.progress=0,this.startedAt=0,this.input.innerHTML="",this.prevenInput(this.input),this.input.setAttribute("data-highlight","")},prevenInput:function(t){t.setAttribute("contenteditable",!1)},enableInput:function(t){t.setAttribute("contenteditable",!0)},watch:function(t){var e=this,s={attributes:!1,childList:!1,subtree:!0,characterData:!0},n=function t(){e.socket.emit("progress",{id:e.socket.id,progress:e.progress,speed:e.speed}),e.state===e.WRITING&&setTimeout(t,500)};setTimeout(n,500),this.socket.on("progress",function(t){e.state!==e.WRITING&&e.state!==e.DONE||e.users.forEach(function(e){e.id===t.id&&(e.progress=t.progress,e.speed=t.speed)})});var a=function(s,n){var a=D(e.snippet.content,t.textContent);e.colorfy(document.getElementsByClassName("match__word"),a,t.textContent.length,a+1);var r=t.textContent.split("").slice(0,a).join("");r=r.replace(String.fromCharCode(32),"&nbsp;"),t.setAttribute("data-highlight",r),e.progress=Math.floor(r.length/e.snippet.length*100),e.speed=(r.length/((Date.now()-e.startedAt)/1e3)*60).toFixed(1),r===e.snippet.content&&(n.disconnect(),e.state=e.DONE,e.time=Date.now()-e.startedAt,e.prevenInput(e.input),e.speed=(e.snippet.length/(e.time/1e3)*60).toFixed(1),e.post())},r=new MutationObserver(a);r.observe(t,s),$(t)},post:function(){var t=this;this.socket.emit("progress",{id:this.socket.id,progress:this.progress}),this.socket.emit("done",{time:this.time,speed:this.speed,snippetId:this.snippet._id}),this.$axios.get("/records?snippetId=".concat(this.snippet._id)).then(function(e){t.records=e.data})},colorfy:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:-1,s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:-1,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:-1;if(t){if(~e){for(var a=0;a<e&&a<t.length;a+=1)t[a].classList.remove("match__next-word"),t[a].classList.remove("match__word--not-match"),t[a].classList.add("match__word--match");for(var r=e;r<t.length;r+=1)t[r].classList.remove("match__word--match")}if(~s){for(var i=e;i<s&&i<t.length;i+=1)t[i].classList.remove("match__next-word"),t[i].classList.remove("match__word--match"),t[i].classList.add("match__word--not-match");for(var o=s;o<t.length;o+=1)t[o].classList.remove("match__word--not-match")}if(~n){for(var c=e;c<n&&c<t.length;c+=1)t[c].classList.add("match__next-word");for(var l=n;l<t.length;l+=1)t[l].classList.remove("match__next-word")}}}},destroyed:function(){this.state=this.DONE,this.socket&&this.socket.close()}}),H=q,J=(s("37bc"),s("67e3"),Object(_["a"])(H,U,W,!1,null,"82267c42",null));J.options.__file="chinese.vue";var Y=J.exports,z=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[t._v("match, en")])},K=[],Q={},V=Q,X=(s("b090"),Object(_["a"])(V,z,K,!1,null,null,null));X.options.__file="english.vue";var Z=X.exports,tt=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"rank"},[s("h1",[t._v("榜单")]),s("p",[t._v("只显示前10位")]),s("p",[t._v("只显示匹配记录")]),s("table",{staticClass:"table"},[t._m(0),s("tbody",t._l(t.records,function(e){return s("tr",{key:e._id},[s("td",[t._v(t._s(e.user))]),s("td",[t._v(t._s(e.speed))]),s("td",[t._v(t._s(t._f("formatDate")(e.createdAt)))])])}))])])},et=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("thead",[s("tr",[s("th",[t._v("用户")]),s("th",[t._v("速度(字/分钟)")]),s("th",[t._v("时间")])])])}],st={data:function(){return{records:[]}},mounted:function(){this.getRecords()},methods:{getRecords:function(){var t=this;this.$axios.get("/records").then(function(e){console.log(t.records),t.records=e.data})}}},nt=st,at=(s("a6fb"),Object(_["a"])(nt,tt,et,!1,null,"24b8b0bc",null));at.options.__file="index.vue";var rt=at.exports,it=function(){var t=this,e=t.$createElement;t._self._c;return t._m(0)},ot=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"feedback"},[s("h1",[t._v("反馈")]),s("p",[t._v("有你的反馈, 本站会得更好。")]),s("a",{attrs:{href:"mailto:breakthroughtgw@gmail.com"}},[t._v("发送邮件")])])}],ct={},lt=ct,ut=(s("7759"),Object(_["a"])(lt,it,ot,!1,null,"c9087cd8",null));ut.options.__file="index.vue";var dt=ut.exports,pt=function(){var t=this,e=t.$createElement;t._self._c;return t._m(0)},_t=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"about"},[s("h1",[t._v("关于本站")]),s("p",[t._v("通过竞赛来提高自己的打字技能。")]),s("p",[t._v("持续开发中。")]),s("p",[t._v("欢迎提出意见和建议。")]),s("a",{attrs:{href:"mailto:breakthroughtgw@gmail.com"}},[t._v("发送邮件")])])}],ht={},vt=ht,ft=(s("7ba0"),Object(_["a"])(vt,pt,_t,!1,null,"ded9399e",null));ft.options.__file="index.vue";var mt=ft.exports,gt=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("nav",{staticClass:"nav"},[s("ul",[s("li",[s("router-link",{attrs:{to:"/admin/books"}},[t._v("书籍")])],1),s("li",[s("router-link",{attrs:{to:"/admin/snippets"}},[t._v("段落")])],1),s("li",{staticClass:"nav-link--right"},[s("router-link",{attrs:{to:"/"}},[t._v("用户主页")])],1)])]),s("router-view")],1)},bt=[],kt={},yt=kt,xt=(s("ca27"),Object(_["a"])(yt,gt,bt,!1,null,"0b589c00",null));xt.options.__file="index.vue";var Ct=xt.exports,wt=function(){var t=this,e=t.$createElement,s=t._self._c||e;return t.loading?t._e():s("div",{staticClass:"admin-books"},[s("h1",[t._v("书籍")]),s("h2",[t._v("添加书籍")]),s("form",{staticClass:"book-form",on:{submit:function(e){return e.preventDefault(),t.submit(e)}}},[t._m(0),t._m(1),t._m(2),t._m(3)]),s("h2",[t._v("书籍列表")]),s("table",[t._m(4),s("tbody",t._l(t.books,function(e,n){return s("tr",{key:e._id},[s("td",[t._v(t._s(e.name))]),s("td",[t._v(t._s(e.author))]),s("td",[s("a",{attrs:{href:e.cover,target:"_blank"}},[t._v("封面")])]),s("td",[t._v(t._s(t._f("formatDate")(e.createdAt)))]),s("td",[s("button",{on:{click:function(s){t.del(e._id,n)}}},[t._v("删除")])])])}))])])},Lt=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"form-group"},[s("label",{attrs:{for:"name"}},[t._v("书名:")]),s("input",{attrs:{type:"text",name:"name",id:"name",required:"",autofocus:""}})])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"form-group"},[s("label",{attrs:{for:"author"}},[t._v("作者:")]),s("input",{attrs:{type:"text",name:"author",id:"author",required:""}})])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"form-group"},[s("label",{attrs:{for:"cover"}},[t._v("封面")]),s("input",{attrs:{type:"text",name:"cover",id:"cover"}})])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"form-group"},[s("label",{attrs:{for:""}}),s("button",{attrs:{type:"submit"}},[t._v("提交")])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("thead",[s("tr",[s("th",[t._v("名字")]),s("th",[t._v("作者")]),s("th",[t._v("封面")]),s("th",[t._v("创建时间")]),s("th")])])}],It={data:function(){return{loading:!0,books:[]}},mounted:function(){this.getBooks()},methods:{submit:function(t){var e=this,s=new FormData(t.target);this.$axios.post("/books",s).then(function(t){console.log(t),e.books.push(t.data)})},getBooks:function(){var t=this;this.$axios.get("/books").then(function(e){t.books=e.data,t.loading=!1})},del:function(t,e){var s=this;this.$axios.delete("/books/".concat(t)).then(function(t){s.books.splice(e,1)}).catch(function(t){console.log(t)})}}},Nt=It,Ot=(s("ff85"),Object(_["a"])(Nt,wt,Lt,!1,null,"5f81af5e",null));Ot.options.__file="index.vue";var $t=Ot.exports,Et=function(){var t=this,e=t.$createElement,s=t._self._c||e;return t.loading?t._e():s("div",{staticClass:"admin-snippet"},[s("h1",[t._v("段落")]),s("P",[t._v("在这里对段落进行管理")]),s("h2",[t._v("添加段落")]),s("form",{staticClass:"snippet-form",on:{submit:function(e){return e.preventDefault(),t.submit(e)}}},[s("div",{staticClass:"form-group"},[s("label",{attrs:{for:"book-name"}},[t._v("书名:")]),s("select",{attrs:{name:"bookName",id:"book-name",required:""}},t._l(t.books,function(e){return s("option",{key:e._id,domProps:{value:e.name}},[t._v(t._s(e.name))])}))]),t._m(0),t._m(1),t._m(2)]),s("h2",[t._v("段落列表")]),s("table",[t._m(3),s("tbody",t._l(t.snippets,function(e,n){return s("tr",{key:e._id},[s("td",[t._v(t._s(e.bookName))]),s("td",[t._v(t._s(e.language))]),s("td",{attrs:{title:e.content}},[t._v(t._s(e.content))]),s("td",[t._v(t._s(e.length))]),s("td",[t._v(t._s(t._f("formatDate")(e.createdAt)))]),s("td",[s("button",{on:{click:function(e){t.detailIndex=n}}},[t._v("详情")]),s("button",{on:{click:function(s){t.del(e._id,n)}}},[t._v("删除")])])])}))]),s("h2",[t._v("段落详情")]),t.snippets[t.detailIndex]?s("div",[s("dl",[s("dt",[t._v("书名")]),s("dd",[t._v(t._s(t.snippets[t.detailIndex].bookName))]),s("dt",[t._v("语言")]),s("dd",[t._v(t._s(t.snippets[t.detailIndex].language))]),s("dt",[t._v("内容")]),s("dd",[t._v(t._s(t.snippets[t.detailIndex].content))]),s("dt",[t._v("长度")]),s("dd",[t._v(t._s(t.snippets[t.detailIndex].length))]),s("dt",[t._v("创建时间")]),s("dd",[t._v(t._s(t._f("formatDate")(t.snippets[t.detailIndex].createdAt)))])])]):t._e()],1)},Dt=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"form-group"},[s("label",{attrs:{for:"language"}},[t._v("语言")]),s("select",{attrs:{name:"language",id:"language",required:""}},[s("option",{attrs:{value:"chinese"}},[t._v("中文")]),s("option",{attrs:{value:"english"}},[t._v("英文")])])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"form-group"},[s("label",{attrs:{for:"content"}},[t._v("内容:")]),s("textarea",{attrs:{name:"content",id:"content",cols:"30",rows:"10",required:""}})])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"form-group"},[s("label",{attrs:{for:""}}),s("button",{staticClass:"snippet-form__button",attrs:{type:"submit"}},[t._v("添加")])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("thead",[s("tr",[s("th",[t._v("书名")]),s("th",[t._v("语言")]),s("th",[t._v("内容")]),s("th",[t._v("长度")]),s("th",[t._v("创建时间")]),s("th")])])}],At={watch:{type:function(t){this.getBooks()}},data:function(){return{loading:!0,books:[],detailIndex:0,snippets:[]}},mounted:function(){this.getBooks(),this.getSnippets()},methods:{submit:function(t){var e=this,s=new FormData(t.target);s.append("length",s.get("content").length),this.$axios.post("/snippets",s).then(function(s){e.snippets.push(s.data),t.target.reset()})},getBooks:function(){var t=this;this.$axios.get("/books").then(function(e){t.books=e.data})},getSnippets:function(){var t=this;this.$axios.get("/snippets").then(function(e){t.snippets=e.data,t.loading=!1})},del:function(t,e){var s=this;this.$axios.delete("/snippets/".concat(t)).then(function(){s.snippets.splice(e,1)})}}},Tt=At,jt=(s("e28f"),Object(_["a"])(Tt,Et,Dt,!1,null,"e49729ee",null));jt.options.__file="index.vue";var Gt=jt.exports,Mt=new a["a"]({mode:"history",routes:[{path:"/",component:y,children:[{path:"/pratice/cn",component:G},{path:"/pratice/en",component:F},{path:"/match/cn",component:Y},{path:"/match/en",component:Z},{path:"/rank",component:rt},{path:"/feedback",component:dt},{path:"/about",component:mt}]},{path:"/admin",component:Ct,redirect:"/admin/snippets",children:[{path:"books",component:$t},{path:"snippets",component:Gt}]}]}),St=Mt,Rt={server:"http://localhost",apiServer:"http://localhost/api"};function Bt(t){var e="",s=Math.floor(t/1e3),n=Math.floor(s/60);return s%=60,n<10&&(n="0"+n),s<10&&(s="0"+s),e="".concat(n,":").concat(s),e}var Pt=Bt;function Ft(t){var e=new Date(t),s=e.getFullYear(),n=e.getMonth()+1,a=e.getDate(),r=e.getHours(),i=e.getMinutes();n<10&&(n="010"),a<10&&(a="010"),r<10&&(r="010"),i<10&&(i="010");var o="".concat(s,"-").concat(n,"-").concat(a," ").concat(r,":").concat(i);return o}var Ut=Ft,Wt={formatTime:Pt,formatDate:Ut},qt=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("span",{staticClass:"prev-link",on:{click:function(e){e.preventDefault(),t.$router.go(-1)}}},[t._v("← 返回")])},Ht=[],Jt={},Yt=Jt,zt=(s("b161"),Object(_["a"])(Yt,qt,Ht,!1,null,"31262068",null));zt.options.__file="back.vue";var Kt=zt.exports,Qt=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"progress"},[s("div",{staticClass:"progress__name",attrs:{title:t.name}},[t._v(t._s(t.name))]),s("div",{ref:"body",staticClass:"progress__body"}),s("span",{staticClass:"progress__percent"},[t._v(t._s(t.progress)+"%")]),s("span",{staticClass:"progress__speed"},[t._v(t._s(t.speed)+" 字/分钟")])])},Vt=[],Xt=(s("c5f6"),{watch:{progress:function(t){this.body&&(this.body.style.width=t+"%",t<25?(this.body.classList.add("progress__body--low"),this.body.classList.remove("progress__body--high"),this.body.classList.remove("progress__body--middle"),this.body.classList.remove("progress__body--complete")):t<50?(this.body.classList.add("progress__body--middle"),this.body.classList.remove("progress__body--high"),this.body.classList.remove("progress__body--low"),this.body.classList.remove("progress__body--complete")):t<100?(this.body.classList.add("progress__body--high"),this.body.classList.remove("progress__body--middle"),this.body.classList.remove("progress__body--low"),this.body.classList.remove("progress__body--complete")):(this.body.classList.remove("progress__body--high"),this.body.classList.remove("progress__body--middle"),this.body.classList.remove("progress__body--low"),this.body.classList.add("progress__body--complete")))}},data:function(){return{percent:0,body:null}},props:{name:{type:String},progress:{type:Number},speed:{}},mounted:function(){this.body=this.$refs["body"]}}),Zt=Xt,te=(s("5f56"),Object(_["a"])(Zt,Qt,Vt,!1,null,"52b78b00",null));te.options.__file="progress.vue";var ee=te.exports,se={"cs-back":Kt,"cs-progress":ee};n["a"].config.productionTip=!1,n["a"].use(a["a"]),n["a"].prototype.$axios=i.a.create({baseURL:Rt.apiServer}),n["a"].prototype.$config=Rt,n["a"].prototype.$io=c.a;for(var ne=Object.keys(Wt),ae=0;ae<ne.length;ae++){var re=ne[ae];n["a"].filter(re,Wt[re])}for(var ie=Object.keys(se),oe=0;oe<ie.length;oe++){var ce=ie[oe];n["a"].component(ce,se[ce])}new n["a"]({router:St,render:function(t){return t(v)}}).$mount("#app")},"5f56":function(t,e,s){"use strict";var n=s("009c"),a=s.n(n);a.a},"64a9":function(t,e,s){},"67e3":function(t,e,s){"use strict";var n=s("960d"),a=s.n(n);a.a},"739f":function(t,e,s){},"75c9":function(t,e,s){},7759:function(t,e,s){"use strict";var n=s("e7ec"),a=s.n(n);a.a},"7ba0":function(t,e,s){"use strict";var n=s("98fa"),a=s.n(n);a.a},"960d":function(t,e,s){},"98fa":function(t,e,s){},a354:function(t,e,s){},a6fb:function(t,e,s){"use strict";var n=s("af98"),a=s.n(n);a.a},a8bb:function(t,e,s){},ad58:function(t,e,s){"use strict";var n=s("dc88"),a=s.n(n);a.a},af98:function(t,e,s){},b090:function(t,e,s){"use strict";var n=s("4b44"),a=s.n(n);a.a},b161:function(t,e,s){"use strict";var n=s("4e0d"),a=s.n(n);a.a},b923:function(t,e,s){"use strict";var n=s("a8bb"),a=s.n(n);a.a},ca27:function(t,e,s){"use strict";var n=s("4a35"),a=s.n(n);a.a},dc88:function(t,e,s){},e28f:function(t,e,s){"use strict";var n=s("a354"),a=s.n(n);a.a},e7ec:function(t,e,s){},ff85:function(t,e,s){"use strict";var n=s("739f"),a=s.n(n);a.a}});
//# sourceMappingURL=app.4e5179c2.js.map